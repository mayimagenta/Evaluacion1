<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@300;600;700&family=Source+Serif+Pro:ital,wght@0,300;1,300&display=swap" rel="stylesheet" />

        <!-- CSS de Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
        <style>
              @import url('https://fonts.googleapis.com/css2?family=Macondo&family=Merriweather:ital,wght@1,700&display=swap');

              :root {

                        --bs-body-color: #FFAD09;
                        --bs-body-bg: #10121c;
                    }

                  body {
                      color: FFAD09;
                      background: black url(img/LOTR.jpg) top center no-repeat;
                      background-size: 80% auto;
                      font-weight: 300;
                      font-family: 'Merriweather', serif;
                  }



                  header.titular {
                      height: calc(80vh + 10vw);
                  }

                  header h1 {
                      font-weight: 900;
                      font-size: 3 rem;
                  }
                  header h2 {
                      font-weight: 800;
                      color: rgba(255, 255, 255, .5);
                  }
                }
                header h3 {
                    font-weight: 300;
                }
                a {
                    color: rgba(255, 255, 255, .75);
                }

                a:hover {
                    color: rgba(255, 255, 255, 1);
                }

                header p a {
                    font-weight: 700;

                }

                p.primero::first-letter {
font-family: 'Macondo', cursive;
                    color: #F84003;
                    float: left;
                    font-size: 4rem;

                    margin: 0;
                    ;
                }

                div.card {
                    background: #836072;
                }

                img.card-img-top {
                    filter: grayscale(1) opacity(.5);
                    transition: ease filter .5s;
                }

                img.card-img-top:hover {
                    filter: grayscale(0) opacity(1);
                    transition: ease filter .5s;
                }

                  .bg-cierre {
                      background: #141421;
                  }
        </style>
        <title>Personajes LOTR</title>
    </head>
    <body>
        <header class="titular">
            <div class="container h-100">
                <div class="row h-100">
                    <div class="col-md-6 mx-auto text-center align-self-end">
                        <h1>Personajes del Señor de los Anillos</h1>
                        <h3 class="fs-5 mb-5">Data de personajes creados por J. R. R. Tolkien. Estos personajes están presentes en la trilogía del Señor de los Anillos, El Hobbit, El Silmarillion, entre otros.</h3>
                        <p class="m-0">Por <a href="#">Margarita González L.</a></p>
                        <p class="small">PUBLICADO EL 12 DE MAYO, 2022</p>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <div class="container py-5">
                <div class="row">
                    <div class="col-md-6 mx-auto">
                        <p class="primero">
                            Los personajes del Señor de los Anillos (y de otras obras literarias de alta fantasía de Tolkien) se encuentran emplazados en la localidad ficticia de la Tierra Media (Middle-Earth).</p>
                        <p>El exhaustivo trabajo de Tolkien le llevó a la creación de diferentes razas, culturas y especies a la hora de formar sus personajes. Sus vastos conocimientos de filología y literatura le permitieron también ofrecer nombres de personajes con gran atractivo, y que forman parte de los idiomas creados por el autor para el mundo narrativo de El Señor de los Anillos.</p>
                        <p>A partir de un Json que recopila datos sobre los personajes, es posible llevar acabo un análisis más detallado de esta obra.</p>

                    </div>
                  </header>

                  <canvas id="Grafico1" width="400" height="200" class="mb-5"></canvas>

                  <p>Personajes clasificados por raza</p>
              </div>

              <div class="col-md-10 mx-auto my-5">
                  <!--este si puede ser más ancho-->
                  <canvas id="Grafico2" width="400" height="200" class="mb-5"></canvas>
              </div>

              <div class="col-md-6 mx-auto">
                  <p>Personajes clasificados por realm (reino o lugar de origen)</p>
              </div>

              <div class="col-md-10 mx-auto">
                  <canvas id="Grafico3" width="400" height="200" class="mb-5"></canvas>
              </div>

              <div class="col-md-6 mx-auto">
                  <p>Personajes divididos por género</p>

                  <canvas id="Grafico4" width="400" height="200" class="mb-5"></canvas>


                  <p>
                      <em>El mundo creado por Tolkien ha logrado tener una influencia inigualable en las obras de fantasía.</em>. A través de una incorporación de temas maduros en el género, las historias de Tolkien han dado vida a personajes icónicos
                      y trascienden el mundo literario para formar parte de la cultura popular.
                  </p>

                  <p class="small my-5">
                      Un trabajo realizado para el electivo de
                      <a href="https://github.com/profesorfaco/front-end">Introducción al Desarrollo Front End con HTML, CSS y JavaScript</a>; El trabajo se resuelve con <a href="https://getbootstrap.com/">Bootstrap</a> y
                      <a href="https://www.chartjs.org/">Charts.js</a>, además de consultas a un <a href="https://raw.githubusercontent.com/mayimagenta/datos-E1/main/personajes_LOTR.csv">CSV</a> y un
                      <a href="https://raw.githubusercontent.com/mayimagenta/datos-E1/main/datos.json">JSON</a>.
                  </p>
              </div>
            </div>
            </div>
        </main>
        <footer class="bg-cierre">
            <div class="container">
                <div class="row py-3">
                    <div class="col text-center"><small>Margarita González | 12 de mayo, 2022</small></div>
                </div>
            </div>
        </footer>

        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js"
            integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        ></script>
        <div class="container">
            <div class="row">
                <div class="col-md-11 col-lg-10 col-xl-9 col-xxl-8 mx-auto my-1">
                    <canvas id="Grafico1" class="my-4"></canvas>
                    
                </div>
            </div>
        </div>
        <script>
          async function todo() {
              //el fetch
              const consulta = await fetch("https://raw.githubusercontent.com/mayimagenta/datos-E1/main/datos.json");
              const data = await consulta.json();
              //algunas variables para calcular
              console.log(data);

const razas= [
  //Razas
              var Ainur = 0;
              var Dragons  = 0;
              var Dwarves = 0;
              var Elves = 0;
              var Half_Elven = 0;
              var Hobbit = 0;
              var Men = 0;
              var Orcs = 0;
];

const Male = [14, 5, 41, 76, 6, 89, 334, 5];

const Female = [10, 0, 41, 24, 0, 36, 51, 2];

  //Realm
  var Old Forest = 0;
  var Doriath = 0;
var Arda = 0;
var Valinor = 0;
var Cirith Ungol = 0;
var Lonely Mountain = 0;
var Grey Mountains = 0;
var Khazad dûm = 0;
var Ered Luin = 0;
var Estolad = 0;
var Hithlum = 0;
var Tirion = 0;
var Nan Elmoth = 0;
var Woodland = 0;
var Nargothrond = 0;
var Ossiriand = 0;
var Himlad = 0;
var Doriath = 0;
var Tvar ol Eressëa = 0;
var Eregion = 0;
var Nevrast = 0;
var Doriath = 0;
var Lórien = 0;
var Timeless Halls = 0;
var Torech Ungol = 0;
var Númenor = 0;
var Rivendell = 0;
var Reunited Kingdom = 0;
var Buckland = 0;
var Shire = 0;
var Bree = 0;
var Buckland = 0;
var Isengard = 0;
var Arnor = 0;
var Númenor = 0;
var Gondor = 0;
var Rohan = 0;
var Minas Ithil = 0;
var Dale = 0;
var White Mountains = 0;
var Minas Morgul = 0;
var Mount Gram = 0;
var Moria = 0;

//Género

var Male = 0;
var Female = 0;

              //Género
              data.forEach((d) => {
                if (d.Gender == "Male") {
                    Masculino = Masculino + 1;
                } else {
                    Femenino = Femenino + 1;
                }
             //razas
             if (d.Race == "Ainur") {
                 Ainur = Ainur + 1;
             } else if (d.Race == "Balrog") {
                 Balrog = Balrog + 1;
             } else if (d.Race == "Black_Uruk") {
                 Black_Uruk = Black_Uruk + 1;
             } else if (d.Race == "Dragons") {
                 Dragons = Dragons + 1;
               } else if (d.Race == "Dwarf") {
                 Dwarf = Dwarf + 1;
             } else if (d.Race == "Dwarves") {
                 Dwarves = Dwarves + 1;
             } else if (d.Race == "Eagle") {
                 Eagle = Eagle + 1;
             } else if (d.Race == "Elves") {
                 Elves = Elves + 1;
             } else if (d.Race == "Ents") {
                 Ents = Ents + 1;
               } else if (d.Race == "Goblin") {
                   Goblin = Goblin + 1;
               } else if (d.Race == "Great_Eagles") {
                   Great_Eagles = Great_Eagles + 1;
               } else if (d.Race == "Great_Spiders") {
                   Great_Spiders = Great_Spiders + 1;
                 } else if (d.Race == "Half_Elven") {
                   Half_Elven = Half_Elven + 1;
               } else if (d.Race == "Hobbit") {
                   Hobbit = Hobbit + 1;
               } else if (d.Race == "Maiar") {
                   Maiar = Maiar + 1;
               } else if (d.Race == "Men") {
                   Men = Men + 1;
               } else if (d.Race == "Orcs") {
                   Orcs = Orcs + 1;
                 } else if (d.Race == "Stone_Trolls") {
                     Stone_Trolls = Stone_Trolls + 1;
                   } else if (d.Race == "Uruk_Hai") {
                     Uruk_Hai = Uruk_Hai + 1;
                 } else if (d.Race == "Werewolves") {
                     Werewolves = Werewolves + 1;
             } else {
                 null = null + 1;
             }
              new Chart(document.getElementById("Grafico1").getContext("2d"), {
                  type: "bar",
                  data: {
                      labels: razas,
                      datasets: [
                      { data: Male, label: "Hombres", backgroundColor: '#f00' },
                      { data: Female, label: "Mujeres", backgroundColor: '#00f' }
                      ],
                  },
                  options: {
                      indexAxis: "y",
                  },
              });
          }

              //hombres y mujeres
              new Chart(document.getElementById("segundoChart").getContext("2d"), {
                  type: "doughnut",
                  data: {
                      labels: ["Mujeres", "Hombres"],
                      datasets: [{ data: [30, 20], label: "Sexo", backgroundColor: ["#8856a7", "#495F8F"] }],
                  },
                  options: {
                      animation: false,
                      layout: {
                          padding: 10,
                      },
                  },
              });

              // clases
              new Chart(document.getElementById("tercerChart").getContext("2d"), {
                  type: "doughnut",
                  data: {
                      labels: ["Primera clase", "Segunda clase", "Tercera clase"],
                      datasets: [{ data: [12, 39, 17], label: "Clases titanic", backgroundColor: ["#D9B4B2", "#9EBCDA", "#495F8F"] }],
                  },
                  options: {
                      animation: false,
                      layout: {
                          padding: 10,
                      },
                  },
              });

              //sobrevivientes y muertes por clase
              new Chart(document.getElementById("cuartoChart").getContext("2d"), {
                  type: "bar",
                  data: {
                      labels: DramaNombre,
                      datasets: [{ data: DramaRating, label: "Sobreviven", backgroundColor: ["#8CB1E5"] }],
                  },
                  options: {
                      indexAxis: "y",
                      animation: false,
                      layout: {
                          padding: 10,
                      },
                  },
              });

              //sobrevivientes y muertes por edad y sexo (mujeres y niños primero)
              new Chart(document.getElementById("quintoChart").getContext("2d"), {
                  type: "bar",
                  data: {
                      labels: ["Mujeres", "Niños", "Hombres"],
                      datasets: [
                          { data: [30, 43, 40], label: "Sobreviven", backgroundColor: ["#8CB1E5"] },
                          { data: [52, 23, 123], label: "Mueren", backgroundColor: ["#334"] },
                      ],
                  },
                  options: {
                      indexAxis: "y",
                      animation: false,
                      layout: {
                          padding: 10,
                      },
                  },
              });
          }
          todo().catch((error) => console.error(error));
        </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">


        </script>
    </body>
</html>
